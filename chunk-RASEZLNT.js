import{Aa as T,R as k,W as b,a as e,b as f,cb as u,db as l,h as y,ha as j,za as v}from"./chunk-KGGN53YB.js";var H=new WeakMap,c=Symbol("STATE_SOURCE");function w(n,...t){n[c].update(o=>t.reduce((i,r)=>e(e({},i),typeof r=="function"?r(i):r),o)),U(n)}function O(n){return n[c]()}function P(n){return H.get(n[c][y])||[]}function U(n){let t=P(n);for(let o of t){let i=l(()=>O(n));o(i)}}function I(n){let t=l(()=>n());return K(t)?new Proxy(n,{get(o,i){return i in t?(v(o[i])||Object.defineProperty(o,i,{value:u(()=>o()[i]),configurable:!0}),I(o[i])):o[i]}}):n}function K(n){return n?.constructor===Object}function D(...n){let t=[...n],o=typeof t[0]=="function"?{}:t.shift(),i=t;return(()=>{class s{constructor(){let a=i.reduce((d,x)=>x(d),q()),{stateSignals:S,computedSignals:R,methods:E,hooks:W}=a,h=e(e(e({},S),R),E);this[c]=o.protectedState===!1?a[c]:a[c].asReadonly();for(let d in h)this[d]=h[d];let{onInit:p,onDestroy:m}=W;p&&p(),m&&b(j).onDestroy(m)}static \u0275fac=function(S){return new(S||s)};static \u0275prov=k({token:s,factory:s.\u0275fac,providedIn:o.providedIn||null})}return s})()}function q(){return{[c]:T({}),stateSignals:{},computedSignals:{},methods:{},hooks:{}}}function M(n){return t=>{let o=n(e(e({},t.stateSignals),t.computedSignals));return Object.keys(o),f(e({},t),{computedSignals:e(e({},t.computedSignals),o)})}}function A(n){return t=>{let o=n(e(e(e({[c]:t[c]},t.stateSignals),t.computedSignals),t.methods));return Object.keys(o),f(e({},t),{methods:e(e({},t.methods),o)})}}function C(n){return t=>{let o=typeof n=="function"?n():n,i=Object.keys(o);t[c].update(s=>e(e({},s),o));let r=i.reduce((s,g)=>{let a=u(()=>t[c]()[g]);return f(e({},s),{[g]:I(a)})},{});return f(e({},t),{stateSignals:e(e({},t.stateSignals),r)})}}var G={speechToken:{token:"",region:""}},Z=D({providedIn:"root",protectedState:!0},C(G),M(({speechToken:n})=>({hasToken:u(()=>!!n().token),hasRegion:u(()=>!!n().region)})),A(n=>({updateSpeechToken:(t={token:"",region:""})=>{w(n,{speechToken:t})}})));export{Z as a};
