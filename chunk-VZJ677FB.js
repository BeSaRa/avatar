import{d as F}from"./chunk-RPJ2YBSQ.js";import{a as P,b as B}from"./chunk-ZWR4GBNY.js";import{e as k,f as A}from"./chunk-QSVBHP5J.js";import{Cc as $,Db as a,Mb as l,Nb as s,Ob as _,Oc as L,Pb as m,Pc as j,Qb as R,Sb as O,Tb as u,bc as b,cc as U,db as x,ea as h,ec as N,hb as o,hc as D,jc as y,ka as r,kc as z,mc as S,oa as I,oc as v,pc as T,ra as E,sb as w,xa as V,ya as C,zb as p}from"./chunk-NMJA3KYW.js";var d=class e{sanitizer=r(F);transform(t,i){switch(i){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error(`Invalid safe type specified: ${i}`)}}static \u0275fac=function(i){return new(i||e)};static \u0275pipe=E({name:"sanitizer",type:e,pure:!0,standalone:!0})};var f=class e{urlService=r(k);store=r(B);GENERAL_VIDEO_TOKEN="00000000-0000-0000-0000-000000000000/c327efd5d7";buildVideoIndexerUrl(){let t=P(this.store).videoToken;return{generic:{insights:`${this.urlService.URLS.VIDEO_INDEXER}/insights/${this.GENERAL_VIDEO_TOKEN}/?&locale=en`,player:`${this.urlService.URLS.VIDEO_INDEXER}/player/${this.GENERAL_VIDEO_TOKEN}/?&locale=en`},custom:{insights:`${this.urlService.URLS.VIDEO_INDEXER}/insights/${t}/?&locale=en`,player:`${this.urlService.URLS.VIDEO_INDEXER}/player/${t}/?&locale=en`}}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"})};var H=e=>({$implicit:"generic",label:e}),K=e=>({$implicit:"custom",label:e}),M=(e,t)=>({"!bg-primary-600 !text-white ring-primary-300 ring-2":e,"bg-gray-200 text-gray-700":t});function q(e,t){e&1&&m(0)}function J(e,t){e&1&&m(0)}function Q(e,t){e&1&&m(0)}function W(e,t){if(e&1){let i=R();l(0,"button",7),O("click",function(){let n=V(i).$implicit,g=u();return C(g.setActiveTab(n))}),U(1),s()}if(e&2){let i=t.$implicit,c=t.label,n=u();a("ngClass",z(2,M,n.activeTab()===i,n.activeTab()!==i)),o(),N(" ",c," ")}}function Y(e,t){if(e&1&&(l(0,"div",8),_(1,"iframe",9),S(2,"sanitizer"),_(3,"iframe",9),S(4,"sanitizer"),s()),e&2){let i=u();o(),a("src",v(2,2,i.activeResource().insights,"resourceUrl"),x),o(2),a("src",v(4,5,i.activeResource().player,"resourceUrl"),x)}}var G=class e{lang=r(A);videoIndexerService=r(f);activeTab=w("generic");frameSources=this.videoIndexerService.buildVideoIndexerUrl();activeResource=$(()=>this.frameSources[this.activeTab()]);setActiveTab(t){console.log(this.frameSources),this.activeTab.set(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=I({type:e,selectors:[["app-video-indexer"]],standalone:!0,features:[D],decls:10,vars:9,consts:[["tabButton",""],["frameView",""],[1,"flex","flex-col","h-full"],[1,"container","flex","items-center","justify-center","w-full","rounded-lg","border-gray-800","gap-2","[&_button]:bg-gray-200","[&_button]:text-gray-700","[&_button:hover]:bg-primary-600","[&_button:hover]:text-white","[&_button]:cursor-pointer","[&_button]:w-full","[&_button]:text-center","[&_button]:text-2xl","[&_button]:p-2","[&_button]:rounded-2xl","[&_button]:shadow-md"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex-grow","flex","flex-col","items-center","justify-center","w-full","h-full","mt-2"],[4,"ngTemplateOutlet"],["type","button",3,"click","ngClass"],[1,"flex","w-full","gap-3","h-[69vh]"],[1,"w-full","h-full","rounded-lg",3,"src"]],template:function(i,c){if(i&1&&(l(0,"div",2)(1,"div",3),p(2,q,1,0,"ng-container",4)(3,J,1,0,"ng-container",4),s(),l(4,"div",5),p(5,Q,1,0,"ng-container",6),s()(),p(6,W,2,5,"ng-template",null,0,T)(8,Y,5,8,"ng-template",null,1,T)),i&2){let n=b(7),g=b(9);o(2),a("ngTemplateOutlet",n)("ngTemplateOutletContext",y(5,H,c.lang.locals.generic)),o(),a("ngTemplateOutlet",n)("ngTemplateOutletContext",y(7,K,c.lang.locals.custom)),o(2),a("ngTemplateOutlet",g)}},dependencies:[L,j,d]})};export{G as VideoIndexerComponent};
