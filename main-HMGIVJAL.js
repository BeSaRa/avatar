import{a as Se,b as Ie,c as _e}from"./chunk-5HG3GOJX.js";import{a as me,d as fe,e as ue,h as de}from"./chunk-4GATVB25.js";import{a as ae,d as se,e as pe,f as le}from"./chunk-VPE7QRNN.js";import{a as oe,b as ie}from"./chunk-IAEKO4JK.js";import{a as Ae}from"./chunk-YGNMCMEQ.js";import{W as Oe,X as Re}from"./chunk-FVC4KGAF.js";import{b as he,d as b,f as ge,g as ve,k as ye,l as Ce,m as Ne,n as Ee}from"./chunk-6XPS77D4.js";import{a as ee,b as te,c as re,d as ne,e as ce,f as y,h as C}from"./chunk-6P3HZE3U.js";import"./chunk-Q64FFBLU.js";import{D as V,Da as $,Db as x,Ec as K,Ha as H,Hb as _,Kc as R,Mb as l,Nb as a,Ob as A,R as U,Ra as q,Sb as O,_ as L,a as h,ba as u,ca as B,cc as c,dc as d,ea as N,ec as Y,fb as S,ha as G,hb as p,hc as v,jb as z,ka as i,lb as W,n as j,nb as X,oa as g,qb as Z,sa as E,sc as J,wc as Q,x as k,zb as I}from"./chunk-ZX6EAOVH.js";var be={VERSION:"v0.0.13",BASE_ENVIRONMENT:"",ENVIRONMENTS_URLS:{},BASE_URL:"",API_VERSION:"v1",KUNA:"",EXTERNAL_PROTOCOLS:["http","https"]};var m=class n{http=i(ee);CONFIG=be;BASE_URL="";load(){return this.http.get("resources/environment.json").pipe(u(e=>this.CONFIG=h(h({},this.CONFIG),e))).pipe(u(()=>this.prepareBaseUrl()))}prepareBaseUrl(){if(!Object.prototype.hasOwnProperty.call(this.CONFIG,"ENVIRONMENTS_URLS")||!Object.keys(this.CONFIG.ENVIRONMENTS_URLS).length)throw Error("There is no ENVIRONMENTS_URLS Property or empty provided inside resources/environment.json file Kindly check it");if(typeof this.CONFIG.BASE_ENVIRONMENT>"u")throw Error("there is no BASE_ENVIRONMENT_INDEX provided inside resources/environment.json file");if(typeof this.CONFIG.ENVIRONMENTS_URLS[this.CONFIG.BASE_ENVIRONMENT]>"u")throw Error("the provided BASE_ENVIRONMENT not exists inside ENVIRONMENTS_URLS array in resources/environment.json file");return this.BASE_URL=this.CONFIG.ENVIRONMENTS_URLS[this.CONFIG.BASE_ENVIRONMENT],Object.prototype.hasOwnProperty.call(this.CONFIG,"API_VERSION")&&this.CONFIG.API_VERSION&&(this.BASE_URL.lastIndexOf("/")!==this.BASE_URL.length-1&&(this.BASE_URL+="/"),this.BASE_URL+=this.CONFIG.API_VERSION),this.BASE_URL}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var w=class n{config=i(m);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["app-version"]],standalone:!0,features:[v],decls:3,vars:1,consts:[[1,"bg-white/60","text-primary","flex","items-center","justify-center","text-sm","px-3","rounded-xl"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"span"),c(2),a()()),t&2&&(p(2),d(r.config.CONFIG.VERSION))},changeDetection:0})};function Ve(n,e){n&1&&(l(0,"mat-error"),c(1,"required"),a())}function Ue(n,e){n&1&&(l(0,"mat-error"),c(1,"required"),a())}function Be(n,e){n&1&&(l(0,"mat-error"),c(1,"required"),a())}var M=class n{lang=i(y);fb=i(Ne);ref=i(Ie);form=this.fb.nonNullable.group({key:["",b.required],ar:["",b.required],en:["",b.required]});save=new j;ngOnInit(){this.listenToSave()}listenToSave(){this.save.pipe(k(()=>({key:this.form.value.key.toLowerCase().trim().replaceAll(" ","_"),ar:this.form.value.ar,en:this.form.value.en})),U(e=>this.lang.createLocal(e))).subscribe(()=>{this.ref.close()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["app-local-popup"]],standalone:!0,features:[v],decls:24,vars:10,consts:[[1,"flex","flex-col","overflow-hidden","dialog-container","min-w-[400px]"],[1,"bg-primary","text-white","text-xl","p-4"],[1,"p-4","flex","flex-col","flex-auto",3,"formGroup"],[1,"w-full"],["formControlName","key","type","text","matInput",""],["formControlName","ar","matInput",""],["formControlName","en","matInput",""],[1,"p-4"],["mat-raised-button","",1,"primary",3,"click","disabled"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1),c(2),a(),l(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),c(6),a(),A(7,"input",4),I(8,Ve,2,0,"mat-error"),a(),l(9,"mat-form-field",3)(10,"mat-label"),c(11),a(),l(12,"textarea",5),c(13," "),a(),I(14,Ue,2,0,"mat-error"),a(),l(15,"mat-form-field",3)(16,"mat-label"),c(17),a(),l(18,"textarea",6),c(19," "),a(),I(20,Be,2,0,"mat-error"),a()(),l(21,"div",7)(22,"button",8),O("click",function(){return r.save.next()}),c(23),a()()()),t&2&&(p(2),d(r.lang.locals.localization),p(),x("formGroup",r.form),p(3),d(r.lang.locals.local_key),p(2),_(r.form.controls.key.hasError("required")?8:-1),p(3),d(r.lang.locals.arabic_local),p(3),_(r.form.controls.ar.hasError("required")?14:-1),p(3),d(r.lang.locals.english_local),p(3),_(r.form.controls.en.hasError("required")?20:-1),p(2),x("disabled",r.form.invalid),p(),Y(" ",r.lang.locals.save," "))},dependencies:[me,fe,de,Se,Ee,he,ge,ve,ye,Ce,ue]})};var P=class n{dialog=i(_e);lang=i(y);store=i(C);document=i(R);storeEffect=K(()=>{this.document.body.style.setProperty("--app-primary-color",this.store.backgroundColor())});openLocalDialog(e){e.preventDefault(),this.dialog.open(M,{direction:document.dir})}toggleLanguage(){this.lang.toggleLanguage()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["app-root"]],hostBindings:function(t,r){t&1&&O("keyup.Control.Alt.a",function(s){return r.openLocalDialog(s)},!1,S)("keyup.Control.Alt.\u0634",function(s){return r.openLocalDialog(s)},!1,S)("keyup.Control.Alt.l",function(s){return r.toggleLanguage(s)},!1,S)},standalone:!0,features:[v],decls:2,vars:0,consts:[[1,"absolute","left-5","bottom-5"]],template:function(t,r){t&1&&A(0,"router-outlet")(1,"app-version",0)},dependencies:[ae,w]})};var we=()=>{let n=i(C),e=i(Ae);return n.streamId()&&e.closeStream().subscribe(),confirm("Stream will be closed")};var Me=[{path:"home",loadComponent:()=>import("./chunk-N4GMF5H2.js"),loadChildren:()=>import("./chunk-YVXYSWCF.js")},{path:"avatar",loadComponent:()=>import("./chunk-3VFQYGQM.js"),pathMatch:"full",canDeactivate:[we]},{path:"**",redirectTo:"home"}];var Pe=(()=>{class n{static{this.interceptors=[]}static send(t){return n.interceptors.forEach(r=>{r.send(t)}),t}static receive(t){return n.interceptors.forEach(r=>{r.receive(t)}),t}}return n})();var kt=Symbol("$$_CAST_RESPONSE"),Vt=Symbol("$$_CAST_RESPONSE_CONTAINER"),Ut=Symbol("$$_MODEL_INTERCEPTOR"),Bt=Symbol("$$_PARAMS_INTERCEPTORS"),Gt=Symbol("$$_INTERCEPT_CONTAINER");function Fe(n){return n&&(Pe.interceptors=Pe.interceptors.concat(n.map(e=>new e))),E([])}var F=class{send(e){return delete e.$$__service_name__$$,e}receive(e){return e}};var Le={provide:J,useFactory:(n,e,t,r,o)=>()=>V([n.load()]).pipe(u(()=>e.setConfigService(n)),u(()=>e.prepareUrls()),L(()=>r.generateSpeechToken()),u(s=>t.get(C).updateSpeechToken(s)),L(()=>o.load())),deps:[m,ce,$,Oe,y],multi:!0};var Ge="@",$e=(()=>{class n{constructor(t,r,o,s,f){this.doc=t,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=f,this._rendererFactoryPromise=null,this.scheduler=i(W,{optional:!0}),this.loadingSchedulerFn=i(He,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-3QPQCIOD.js").then(o=>o),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(o=>{throw new B(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:s})=>{this._engine=o(this.animationType,this.doc);let f=new s(this.delegate,this._engine,this.zone);return this.delegate=f,f})}createRenderer(t,r){let o=this.delegate.createRenderer(t,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new D(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(f=>{let ke=f.createRenderer(t,r);s.use(ke),this.scheduler?.notify(10)}).catch(f=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(r){z()}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac})}}return n})(),D=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,o){this.delegate.insertBefore(e,t,r,o)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Ge)}},He=new G("");function xe(n="animations"){return Z("NgAsyncAnimations"),E([{provide:X,useFactory:(e,t,r)=>new $e(e,t,r,n),deps:[R,oe,H]},{provide:q,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var De=(n,e)=>{let t=i(m);return e(n.clone({setHeaders:h({},t.CONFIG.BASE_ENVIRONMENT==="AQARAT_STG"?{"x-functions-key":t.CONFIG.KUNA}:void 0)}))};var je={providers:[{provide:Re,useValue:{position:"above"}},Le,te(ne(),re([De])),Q({eventCoalescing:!0}),se(Me,pe(),le()),xe(),Fe([F])]};ie(P,je).catch(n=>console.error(n));
