import{j as g,l as T,w as h}from"./chunk-SLIRYUJ2.js";import{N as m,P as x,a as u,b as p,x as f}from"./chunk-OUJ2UPQI.js";function L(t){let e=n=>{n instanceof g?Object.values(n.controls).forEach(r=>{e(r)}):n instanceof h?n.controls.forEach(r=>{e(r)}):n instanceof T&&(n.markAsTouched(),n.markAsDirty())};e(t)}function U(t=!1){return e=>e.pipe(x(n=>(t&&console.log(n),f("CUSTOM_ERROR")))).pipe(m(n=>n!=="CUSTOM_ERROR"))}function M(){let t=new Date().getTime(),e=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let r=Math.random()*16;return t>0?(r=(t+r)%16|0,t=Math.floor(t/16)):(r=(e+r)%16|0,e=Math.floor(e/16)),(n==="x"?r:r&3|8).toString(16)})}function b(t){return/[\u0600-\u06FF]+/.test(t)}var N=t=>(t.split(" ").map(e=>(b(e)?"\u202A":"\u202C")+e).join(" "),t);function j(t,e){let n=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");if(!e?.context)return n.trim();let r=Array.from(new Map(e.context.citations.map(o=>[o.url+o.title,o])).values()),s=new Set;return n=n.replace(/\[(.*?)\]/g,(o,l)=>{let i=Number(l.replace(/[^0-9]/g,""))-1,a=r[i];if(!a||s.has(a.url+a.title))return"";s.add(a.url+a.title);let d=a.title;return`<br /><small class="px-1 text-primary"><a target="_blank" href="${a.url}">${d}</a><i class="link-icon"></i></small>`}),n.trim()}function A(t){let e=/^(#+)\s+(.*)$/gm;return t.replace(e,(n,r,s)=>{let o=r.length,i={1:"text-4xl font-bold ml-9",2:"text-3xl font-bold",3:"text-2xl font-bold",4:"text-xl font-bold",5:"text-lg font-semibold",6:"text-base font-medium"}[o]||"text-base font-medium";return`<h${o} class="${i}">${s}</h${o}>`})}function F(t){let n=new URL(t).pathname;return decodeURI(n.split("/").pop()||"file")}function c(t){return t.reduce((e,{key:n,value:r})=>(e[n]=r,e),{})}function V(t){return"urls"in t?p(u({},t),{urls:t.urls.map(e=>p(u({},e),{headers:e.headers?c(e.headers):{},cookies:e.cookies?c(e.cookies):{},payload:e.payload?c(e.payload):{}}))}):p(u({},t),{headers:t.headers?c(t.headers):{},cookies:t.cookies?c(t.cookies):{},payload:t.payload?c(t.payload):{}})}function S(t,e=1){return new Promise((n,r)=>{if(!t||!(t instanceof HTMLVideoElement))return r("Invalid video element.");t.readyState<2?t.addEventListener("loadeddata",()=>s(),{once:!0}):s();function s(){t.currentTime=e,t.addEventListener("seeked",()=>{let o=document.createElement("canvas"),l=o.getContext("2d");if(!l)return r("Canvas not supported.");o.width=t.videoWidth,o.height=t.videoHeight,l.drawImage(t,0,0,o.width,o.height);let i=o.toDataURL("image/jpeg");n(i)},{once:!0})}})}function $(t,e){return n=>{let r={};return t.forEach(([s,o],l)=>{let i=n.get(s)?.value,a=n.get(o)?.value;if(i&&a&&i>a){let d=e?.[l]??`${s}_${o}_invalid`;r[d]=!0}}),Object.keys(r).length>0?r:null}}function I(t,e){let n={};for(let r in t){let s=t[r];e?.length&&e?.some(o=>o===r)||s!=null&&(n[r]=s)}return n}export{L as a,U as b,M as c,N as d,j as e,A as f,F as g,V as h,S as i,$ as j,I as k};
