import{a as at,b as it,c as ot}from"./chunk-WORG4DOS.js";import{a as We,d as qe,e as Ke,h as Xe}from"./chunk-HFRX4CUC.js";import{a as E,b as ne,c as se,d as z,e as le,f as N,g as pt,h as de,i as pe,j as f,k as W,l as ut,m as ft,n as ct,o as mt,p as ht,q as vt}from"./chunk-J3CC4BZF.js";import{b as dt}from"./chunk-FP6U4NYC.js";import{a as Ge,d as Ve,e as He,f as $e}from"./chunk-PYQH6QRE.js";import{a as Ue,b as je}from"./chunk-LNCA5ZAV.js";import{a as nt}from"./chunk-BXB2CTRU.js";import{a as st}from"./chunk-QGFLJZ7J.js";import{Z as lt}from"./chunk-ZDJXVAJQ.js";import{b as k}from"./chunk-MXTMFI7B.js";import{b as Ye,d as $,f as Je,g as Ze,k as Qe,l as et,m as tt,n as rt}from"./chunk-TXQ7L4UT.js";import{b as Fe,c as De,d as Le,e as Be,f as ze,g as M}from"./chunk-ONA3PISV.js";import"./chunk-Q64FFBLU.js";import{A as _e,Ac as Oe,Cb as U,G as ge,Ga as Se,Gb as oe,Ic as Te,Ka as Ee,Lb as j,Oc as H,Qb as y,Rb as m,Sb as G,U as be,Ua as Ne,Wb as V,a as P,ba as ie,ea as I,fa as xe,gc as _,ha as L,hc as S,ib as B,ic as ke,ka as Ce,kb as v,lc as R,mb as Ae,na as c,ob as we,p as ye,qb as Re,ra as w,tb as Me,va as Ie,wc as Pe}from"./chunk-SWO22U5H.js";var yt={VERSION:"v0.0.13",BASE_ENVIRONMENT:"",ENVIRONMENTS_URLS:{},BASE_URL:"",API_VERSION:"v1",KUNA:"",EXTERNAL_PROTOCOLS:["http","https"]};var x=class t{http=c(Fe);CONFIG=yt;BASE_URL="";load(){return this.http.get("resources/environment.json").pipe(I(r=>this.CONFIG=P(P({},this.CONFIG),r))).pipe(I(()=>this.prepareBaseUrl()))}prepareBaseUrl(){if(!Object.prototype.hasOwnProperty.call(this.CONFIG,"ENVIRONMENTS_URLS")||!Object.keys(this.CONFIG.ENVIRONMENTS_URLS).length)throw Error("There is no ENVIRONMENTS_URLS Property or empty provided inside resources/environment.json file Kindly check it");if(typeof this.CONFIG.BASE_ENVIRONMENT>"u")throw Error("there is no BASE_ENVIRONMENT_INDEX provided inside resources/environment.json file");if(typeof this.CONFIG.ENVIRONMENTS_URLS[this.CONFIG.BASE_ENVIRONMENT]>"u")throw Error("the provided BASE_ENVIRONMENT not exists inside ENVIRONMENTS_URLS array in resources/environment.json file");return this.BASE_URL=this.CONFIG.ENVIRONMENTS_URLS[this.CONFIG.BASE_ENVIRONMENT],Object.prototype.hasOwnProperty.call(this.CONFIG,"API_VERSION")&&this.CONFIG.API_VERSION&&(this.BASE_URL.lastIndexOf("/")!==this.BASE_URL.length-1&&(this.BASE_URL+="/"),this.BASE_URL+=this.CONFIG.API_VERSION),this.BASE_URL}static \u0275fac=function(e){return new(e||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};var K=class t{config=c(x);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-version"]],standalone:!0,features:[R],decls:3,vars:1,consts:[[1,"bg-white/60","text-primary","flex","items-center","justify-center","text-sm","px-3","rounded-xl"]],template:function(e,a){e&1&&(y(0,"div",0)(1,"span"),_(2),m()()),e&2&&(v(2),S(a.config.CONFIG.VERSION))},changeDetection:0})};function Lt(t,r){t&1&&(y(0,"mat-error"),_(1,"required"),m())}function Bt(t,r){t&1&&(y(0,"mat-error"),_(1,"required"),m())}function Ut(t,r){t&1&&(y(0,"mat-error"),_(1,"required"),m())}var X=class t{lang=c(M);fb=c(tt);ref=c(it);form=this.fb.nonNullable.group({key:["",$.required],ar:["",$.required],en:["",$.required]});save=new ye;ngOnInit(){this.listenToSave()}listenToSave(){this.save.pipe(_e(()=>({key:this.form.value.key.toLowerCase().trim().replaceAll(" ","_"),ar:this.form.value.ar,en:this.form.value.en})),be(r=>this.lang.createLocal(r))).subscribe(()=>{this.ref.close()})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-local-popup"]],standalone:!0,features:[R],decls:24,vars:10,consts:[[1,"flex","flex-col","overflow-hidden","dialog-container","min-w-[400px]"],[1,"bg-primary","text-white","text-xl","p-4"],[1,"p-4","flex","flex-col","flex-auto",3,"formGroup"],[1,"w-full"],["formControlName","key","type","text","matInput",""],["formControlName","ar","matInput",""],["formControlName","en","matInput",""],[1,"p-4"],["mat-raised-button","",1,"primary",3,"click","disabled"]],template:function(e,a){e&1&&(y(0,"div",0)(1,"div",1),_(2),m(),y(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),_(6),m(),G(7,"input",4),U(8,Lt,2,0,"mat-error"),m(),y(9,"mat-form-field",3)(10,"mat-label"),_(11),m(),y(12,"textarea",5),_(13," "),m(),U(14,Bt,2,0,"mat-error"),m(),y(15,"mat-form-field",3)(16,"mat-label"),_(17),m(),y(18,"textarea",6),_(19," "),m(),U(20,Ut,2,0,"mat-error"),m()(),y(21,"div",7)(22,"button",8),V("click",function(){return a.save.next()}),_(23),m()()()),e&2&&(v(2),S(a.lang.locals.localization),v(),oe("formGroup",a.form),v(3),S(a.lang.locals.local_key),v(2),j(a.form.controls.key.hasError("required")?8:-1),v(3),S(a.lang.locals.arabic_local),v(3),j(a.form.controls.ar.hasError("required")?14:-1),v(3),S(a.lang.locals.english_local),v(3),j(a.form.controls.en.hasError("required")?20:-1),v(2),oe("disabled",a.form.invalid),v(),ke(" ",a.lang.locals.save," "))},dependencies:[We,qe,Xe,at,rt,Ye,Je,Ze,Qe,et,Ke]})};var Y=class t{dialog=c(ot);lang=c(M);store=c(k);document=c(H);storeEffect=Te(()=>{this.document.body.style.setProperty("--app-primary-color",this.store.backgroundColor())});openLocalDialog(r){r.preventDefault(),this.dialog.open(X,{direction:document.dir})}toggleLanguage(){this.lang.toggleLanguage()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-root"]],hostBindings:function(e,a){e&1&&V("keyup.Control.Alt.a",function(o){return a.openLocalDialog(o)},!1,B)("keyup.Control.Alt.\u0634",function(o){return a.openLocalDialog(o)},!1,B)("keyup.Control.Alt.l",function(o){return a.toggleLanguage(o)},!1,B)},standalone:!0,features:[R],decls:2,vars:0,consts:[[1,"absolute","left-5","bottom-5"]],template:function(e,a){e&1&&G(0,"router-outlet")(1,"app-version",0)},dependencies:[Ge,K]})};var gt=()=>{let t=c(k),r=c(nt);return t.streamId()&&r.closeStream().subscribe(),confirm("Stream will be closed")};var bt=[{path:"home",loadComponent:()=>import("./chunk-BXDTHLRY.js"),loadChildren:()=>import("./chunk-MAYXRCQP.js")},{path:"avatar",loadComponent:()=>import("./chunk-VTPGLFJV.js"),pathMatch:"full",canDeactivate:[gt]},{path:"**",redirectTo:"home"}];var J=class{send(r){return delete r.$$__service_name__$$,r}receive(r){return r}};var xt={provide:Pe,useFactory:(t,r,e,a,i)=>()=>ge([t.load()]).pipe(I(()=>r.setConfigService(t)),I(()=>r.prepareUrls()),ie(()=>a.generateSpeechToken()),I(o=>e.get(k).updateSpeechToken(o)),ie(()=>i.load())),deps:[x,ze,Se,st,M],multi:!0};var jt="@",Gt=(()=>{class t{constructor(e,a,i,o,n){this.doc=e,this.delegate=a,this.zone=i,this.animationType=o,this.moduleImpl=n,this._rendererFactoryPromise=null,this.scheduler=c(we,{optional:!0}),this.loadingSchedulerFn=c(Vt,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-HLS67HZS.js").then(i=>i),a;return this.loadingSchedulerFn?a=this.loadingSchedulerFn(e):a=e(),a.catch(i=>{throw new xe(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let n=new o(this.delegate,this._engine,this.zone);return this.delegate=n,n})}createRenderer(e,a){let i=this.delegate.createRenderer(e,a);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let o=new ue(i);return a?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(n=>{let s=n.createRenderer(e,a);o.use(s),this.scheduler?.notify(10)}).catch(n=>{o.use(i)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(a){Ae()}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),ue=class{constructor(r){this.delegate=r,this.replay=[],this.\u0275type=1}use(r){if(this.delegate=r,this.replay!==null){for(let e of this.replay)e(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,e){this.delegate.appendChild(r,e)}insertBefore(r,e,a,i){this.delegate.insertBefore(r,e,a,i)}removeChild(r,e,a){this.delegate.removeChild(r,e,a)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,a,i){this.delegate.setAttribute(r,e,a,i)}removeAttribute(r,e,a){this.delegate.removeAttribute(r,e,a)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,a,i){this.delegate.setStyle(r,e,a,i)}removeStyle(r,e,a){this.delegate.removeStyle(r,e,a)}setProperty(r,e,a){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(r,e,a)),this.delegate.setProperty(r,e,a)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,a){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(r,e,a)),this.delegate.listen(r,e,a)}shouldReplay(r){return this.replay!==null&&r.startsWith(jt)}},Vt=new Ce("");function Ct(t="animations"){return Me("NgAsyncAnimations"),Ie([{provide:Re,useFactory:(r,e,a)=>new Gt(r,e,a,t),deps:[H,Ue,Ee]},{provide:Ne,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var It=(t,r)=>{let e=c(x);return r(t.clone({setHeaders:P({},e.CONFIG.BASE_ENVIRONMENT==="AQARAT_STG"?{"x-functions-key":e.CONFIG.KUNA}:void 0)}))};var St={providers:[{provide:lt,useValue:{position:"above"}},xt,De(Be(),Le([It])),Oe({eventCoalescing:!0}),Ve(bt,He(),$e()),Ct(),vt(ht()),dt([J])]};var Et=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),T={toTextLines:function(t){var r=[],e;for(t=[].concat(t);t.length;)e=t.pop(),typeof e=="string"?r.unshift.apply(r,e.split(`
`)):Array.isArray(e)?t.push.apply(t,e):E(t)||r.unshift(""+e);return r},textSize:function(t,r,e){var a=[].concat(r),i=a.length,o=t.font,n=0,s;for(t.font=e.string,s=0;s<i;++s)n=Math.max(t.measureText(a[s]).width,n);return t.font=o,{height:i*e.lineHeight,width:n}},bound:function(t,r,e){return Math.max(t,Math.min(r,e))},arrayDiff:function(t,r){var e=t.slice(),a=[],i,o,n,s;for(i=0,n=r.length;i<n;++i)s=r[i],o=e.indexOf(s),o===-1?a.push([s,1]):e.splice(o,1);for(i=0,n=e.length;i<n;++i)a.push([e[i],-1]);return a},rasterize:function(t){return Math.round(t*Et)/Et}};function fe(t,r){var e=r.x,a=r.y;if(e===null)return{x:0,y:-1};if(a===null)return{x:1,y:0};var i=t.x-e,o=t.y-a,n=Math.sqrt(i*i+o*o);return{x:n?i/n:0,y:n?o/n:-1}}function Ht(t,r,e,a,i){switch(i){case"center":e=a=0;break;case"bottom":e=0,a=1;break;case"right":e=1,a=0;break;case"left":e=-1,a=0;break;case"top":e=0,a=-1;break;case"start":e=-e,a=-a;break;case"end":break;default:i*=Math.PI/180,e=Math.cos(i),a=Math.sin(i);break}return{x:t,y:r,vx:e,vy:a}}var $t=0,At=1,wt=2,Rt=4,Mt=8;function Z(t,r,e){var a=$t;return t<e.left?a|=At:t>e.right&&(a|=wt),r<e.top?a|=Mt:r>e.bottom&&(a|=Rt),a}function zt(t,r){for(var e=t.x0,a=t.y0,i=t.x1,o=t.y1,n=Z(e,a,r),s=Z(i,o,r),l,d,p;!(!(n|s)||n&s);)l=n||s,l&Mt?(d=e+(i-e)*(r.top-a)/(o-a),p=r.top):l&Rt?(d=e+(i-e)*(r.bottom-a)/(o-a),p=r.bottom):l&wt?(p=a+(o-a)*(r.right-e)/(i-e),d=r.right):l&At&&(p=a+(o-a)*(r.left-e)/(i-e),d=r.left),l===n?(e=d,a=p,n=Z(e,a,r)):(i=d,o=p,s=Z(i,o,r));return{x0:e,x1:i,y0:a,y1:o}}function Q(t,r){var e=r.anchor,a=t,i,o;return r.clamp&&(a=zt(a,r.area)),e==="start"?(i=a.x0,o=a.y0):e==="end"?(i=a.x1,o=a.y1):(i=(a.x0+a.x1)/2,o=(a.y0+a.y1)/2),Ht(i,o,t.vx,t.vy,r.align)}var ee={arc:function(t,r){var e=(t.startAngle+t.endAngle)/2,a=Math.cos(e),i=Math.sin(e),o=t.innerRadius,n=t.outerRadius;return Q({x0:t.x+a*o,y0:t.y+i*o,x1:t.x+a*n,y1:t.y+i*n,vx:a,vy:i},r)},point:function(t,r){var e=fe(t,r.origin),a=e.x*t.options.radius,i=e.y*t.options.radius;return Q({x0:t.x-a,y0:t.y-i,x1:t.x+a,y1:t.y+i,vx:e.x,vy:e.y},r)},bar:function(t,r){var e=fe(t,r.origin),a=t.x,i=t.y,o=0,n=0;return t.horizontal?(a=Math.min(t.x,t.base),o=Math.abs(t.base-t.x)):(i=Math.min(t.y,t.base),n=Math.abs(t.base-t.y)),Q({x0:a,y0:i+n,x1:a+o,y1:i,vx:e.x,vy:e.y},r)},fallback:function(t,r){var e=fe(t,r.origin);return Q({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:e.x,vy:e.y},r)}},b=T.rasterize;function Wt(t){var r=t.borderWidth||0,e=t.padding,a=t.size.height,i=t.size.width,o=-i/2,n=-a/2;return{frame:{x:o-e.left-r,y:n-e.top-r,w:i+e.width+r*2,h:a+e.height+r*2},text:{x:o,y:n,w:i,h:a}}}function qt(t,r){var e=r.chart.getDatasetMeta(r.datasetIndex).vScale;if(!e)return null;if(e.xCenter!==void 0&&e.yCenter!==void 0)return{x:e.xCenter,y:e.yCenter};var a=e.getBasePixel();return t.horizontal?{x:a,y:null}:{x:null,y:a}}function Kt(t){return t instanceof ut?ee.arc:t instanceof ft?ee.point:t instanceof ct?ee.bar:ee.fallback}function Xt(t,r,e,a,i,o){var n=Math.PI/2;if(o){var s=Math.min(o,i/2,a/2),l=r+s,d=e+s,p=r+a-s,u=e+i-s;t.moveTo(r,d),l<p&&d<u?(t.arc(l,d,s,-Math.PI,-n),t.arc(p,d,s,-n,0),t.arc(p,u,s,0,n),t.arc(l,u,s,n,Math.PI)):l<p?(t.moveTo(l,e),t.arc(p,d,s,-n,n),t.arc(l,d,s,n,Math.PI+n)):d<u?(t.arc(l,d,s,-Math.PI,0),t.arc(l,u,s,0,Math.PI)):t.arc(l,d,s,-Math.PI,Math.PI),t.closePath(),t.moveTo(r,e)}else t.rect(r,e,a,i)}function Yt(t,r,e){var a=e.backgroundColor,i=e.borderColor,o=e.borderWidth;!a&&(!i||!o)||(t.beginPath(),Xt(t,b(r.x)+o/2,b(r.y)+o/2,b(r.w)-o,b(r.h)-o,e.borderRadius),t.closePath(),a&&(t.fillStyle=a,t.fill()),i&&o&&(t.strokeStyle=i,t.lineWidth=o,t.lineJoin="miter",t.stroke()))}function Jt(t,r,e){var a=e.lineHeight,i=t.w,o=t.x,n=t.y+a/2;return r==="center"?o+=i/2:(r==="end"||r==="right")&&(o+=i),{h:a,w:i,x:o,y:n}}function Zt(t,r,e){var a=t.shadowBlur,i=e.stroked,o=b(e.x),n=b(e.y),s=b(e.w);i&&t.strokeText(r,o,n,s),e.filled&&(a&&i&&(t.shadowBlur=0),t.fillText(r,o,n,s),a&&i&&(t.shadowBlur=a))}function Qt(t,r,e,a){var i=a.textAlign,o=a.color,n=!!o,s=a.font,l=r.length,d=a.textStrokeColor,p=a.textStrokeWidth,u=d&&p,g;if(!(!l||!n&&!u))for(e=Jt(e,i,s),t.font=s.string,t.textAlign=i,t.textBaseline="middle",t.shadowBlur=a.textShadowBlur,t.shadowColor=a.textShadowColor,n&&(t.fillStyle=o),u&&(t.lineJoin="round",t.lineWidth=p,t.strokeStyle=d),g=0,l=r.length;g<l;++g)Zt(t,r[g],{stroked:u,filled:n,w:e.w,x:e.x,y:e.y+e.h*g})}var kt=function(t,r,e,a){var i=this;i._config=t,i._index=a,i._model=null,i._rects=null,i._ctx=r,i._el=e};N(kt.prototype,{_modelize:function(t,r,e,a){var i=this,o=i._index,n=pe(f([e.font,{}],a,o)),s=f([e.color,pt.color],a,o);return{align:f([e.align,"center"],a,o),anchor:f([e.anchor,"center"],a,o),area:a.chart.chartArea,backgroundColor:f([e.backgroundColor,null],a,o),borderColor:f([e.borderColor,null],a,o),borderRadius:f([e.borderRadius,0],a,o),borderWidth:f([e.borderWidth,0],a,o),clamp:f([e.clamp,!1],a,o),clip:f([e.clip,!1],a,o),color:s,display:t,font:n,lines:r,offset:f([e.offset,4],a,o),opacity:f([e.opacity,1],a,o),origin:qt(i._el,a),padding:de(f([e.padding,4],a,o)),positioner:Kt(i._el),rotation:f([e.rotation,0],a,o)*(Math.PI/180),size:T.textSize(i._ctx,r,n),textAlign:f([e.textAlign,"start"],a,o),textShadowBlur:f([e.textShadowBlur,0],a,o),textShadowColor:f([e.textShadowColor,s],a,o),textStrokeColor:f([e.textStrokeColor,s],a,o),textStrokeWidth:f([e.textStrokeWidth,0],a,o)}},update:function(t){var r=this,e=null,a=null,i=r._index,o=r._config,n,s,l,d=f([o.display,!0],t,i);d&&(n=t.dataset.data[i],s=se(z(o.formatter,[n,t]),n),l=E(s)?[]:T.toTextLines(s),l.length&&(e=r._modelize(d,l,o,t),a=Wt(e))),r._model=e,r._rects=a},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,r){var e=this,a=t.ctx,i=e._model,o=e._rects,n;this.visible()&&(a.save(),i.clip&&(n=i.area,a.beginPath(),a.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),a.clip()),a.globalAlpha=T.bound(0,i.opacity,1),a.translate(b(r.x),b(r.y)),a.rotate(i.rotation),Yt(a,o.frame,i),Qt(a,i.lines,o.text,i),a.restore())}});var er=Number.MIN_SAFE_INTEGER||-9007199254740991,tr=Number.MAX_SAFE_INTEGER||9007199254740991;function O(t,r,e){var a=Math.cos(e),i=Math.sin(e),o=r.x,n=r.y;return{x:o+a*(t.x-o)-i*(t.y-n),y:n+i*(t.x-o)+a*(t.y-n)}}function Nt(t,r){var e=tr,a=er,i=r.origin,o,n,s,l,d;for(o=0;o<t.length;++o)n=t[o],s=n.x-i.x,l=n.y-i.y,d=r.vx*s+r.vy*l,e=Math.min(e,d),a=Math.max(a,d);return{min:e,max:a}}function te(t,r){var e=r.x-t.x,a=r.y-t.y,i=Math.sqrt(e*e+a*a);return{vx:(r.x-t.x)/i,vy:(r.y-t.y)/i,origin:t,ln:i}}var Pt=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};N(Pt.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,r,e){this._rotation=e,this._rect={x:r.x+t.x,y:r.y+t.y,w:r.w,h:r.h}},contains:function(t){var r=this,e=1,a=r._rect;return t=O(t,r.center(),-r._rotation),!(t.x<a.x-e||t.y<a.y-e||t.x>a.x+a.w+e*2||t.y>a.y+a.h+e*2)},intersects:function(t){var r=this._points(),e=t._points(),a=[te(r[0],r[1]),te(r[0],r[3])],i,o,n;for(this._rotation!==t._rotation&&a.push(te(e[0],e[1]),te(e[0],e[3])),i=0;i<a.length;++i)if(o=Nt(r,a[i]),n=Nt(e,a[i]),o.max<n.min||n.max<o.min)return!1;return!0},_points:function(){var t=this,r=t._rect,e=t._rotation,a=t.center();return[O({x:r.x,y:r.y},a,e),O({x:r.x+r.w,y:r.y},a,e),O({x:r.x+r.w,y:r.y+r.h},a,e),O({x:r.x,y:r.y+r.h},a,e)]}});function Ot(t,r,e){var a=r.positioner(t,r),i=a.vx,o=a.vy;if(!i&&!o)return{x:a.x,y:a.y};var n=e.w,s=e.h,l=r.rotation,d=Math.abs(n/2*Math.cos(l))+Math.abs(s/2*Math.sin(l)),p=Math.abs(n/2*Math.sin(l))+Math.abs(s/2*Math.cos(l)),u=1/Math.max(Math.abs(i),Math.abs(o));return d*=i*u,p*=o*u,d+=r.offset*i,p+=r.offset*o,{x:a.x+d,y:a.y+p}}function rr(t,r){var e,a,i,o;for(e=t.length-1;e>=0;--e)for(i=t[e].$layout,a=e-1;a>=0&&i._visible;--a)o=t[a].$layout,o._visible&&i._box.intersects(o._box)&&r(i,o);return t}function ar(t){var r,e,a,i,o,n,s;for(r=0,e=t.length;r<e;++r)a=t[r],i=a.$layout,i._visible&&(s=new Proxy(a._el,{get:(l,d)=>l.getProps([d],!0)[d]}),o=a.geometry(),n=Ot(s,a.model(),o),i._box.update(n,o,a.rotation()));return rr(t,function(l,d){var p=l._hidable,u=d._hidable;p&&u||u?d._visible=!1:p&&(l._visible=!1)})}var F={prepare:function(t){var r=[],e,a,i,o,n;for(e=0,i=t.length;e<i;++e)for(a=0,o=t[e].length;a<o;++a)n=t[e][a],r.push(n),n.$layout={_box:new Pt,_hidable:!1,_visible:!0,_set:e,_idx:n._index};return r.sort(function(s,l){var d=s.$layout,p=l.$layout;return d._idx===p._idx?p._set-d._set:p._idx-d._idx}),this.update(r),r},update:function(t){var r=!1,e,a,i,o,n;for(e=0,a=t.length;e<a;++e)i=t[e],o=i.model(),n=i.$layout,n._hidable=o&&o.display==="auto",n._visible=i.visible(),r|=n._hidable;r&&ar(t)},lookup:function(t,r){var e,a;for(e=t.length-1;e>=0;--e)if(a=t[e].$layout,a&&a._visible&&a._box.contains(r))return t[e];return null},draw:function(t,r){var e,a,i,o,n,s;for(e=0,a=r.length;e<a;++e)i=r[e],o=i.$layout,o._visible&&(n=i.geometry(),s=Ot(i._el,i.model(),n),o._box.update(s,n,i.rotation()),i.draw(t,s))}},ir=function(t){if(E(t))return null;var r=t,e,a,i;if(ne(t))if(!E(t.label))r=t.label;else if(!E(t.r))r=t.r;else for(r="",e=Object.keys(t),i=0,a=e.length;i<a;++i)r+=(i!==0?", ":"")+e[i]+": "+t[e[i]];return""+r},or={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:ir,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},h="$datalabels",Tt="$default";function nr(t,r){var e=t.datalabels,a={},i=[],o,n;return e===!1?null:(e===!0&&(e={}),r=N({},[r,e]),o=r.labels||{},n=Object.keys(o),delete r.labels,n.length?n.forEach(function(s){o[s]&&i.push(N({},[r,o[s],{_key:s}]))}):i.push(r),a=i.reduce(function(s,l){return le(l.listeners||{},function(d,p){s[p]=s[p]||{},s[p][l._key||Tt]=d}),delete l.listeners,s},{}),{labels:i,listeners:a})}function ce(t,r,e,a){if(r){var i=e.$context,o=e.$groups,n;r[o._set]&&(n=r[o._set][o._key],n&&z(n,[i,a])===!0&&(t[h]._dirty=!0,e.update(i)))}}function sr(t,r,e,a,i){var o,n;!e&&!a||(e?a?e!==a&&(n=o=!0):n=!0:o=!0,n&&ce(t,r.leave,e,i),o&&ce(t,r.enter,a,i))}function lr(t,r){var e=t[h],a=e._listeners,i,o;if(!(!a.enter&&!a.leave)){if(r.type==="mousemove")o=F.lookup(e._labels,r);else if(r.type!=="mouseout")return;i=e._hovered,e._hovered=o,sr(t,a,i,o,r)}}function dr(t,r){var e=t[h],a=e._listeners.click,i=a&&F.lookup(e._labels,r);i&&ce(t,a,i,r)}var Ft={id:"datalabels",defaults:or,beforeInit:function(t){t[h]={_actives:[]}},beforeUpdate:function(t){var r=t[h];r._listened=!1,r._listeners={},r._datasets=[],r._labels=[]},afterDatasetUpdate:function(t,r,e){var a=r.index,i=t[h],o=i._datasets[a]=[],n=t.isDatasetVisible(a),s=t.data.datasets[a],l=nr(s,e),d=r.meta.data||[],p=t.ctx,u,g,me,he,re,ve,A,C;for(p.save(),u=0,me=d.length;u<me;++u)if(A=d[u],A[h]=[],n&&A&&t.getDataVisibility(u)&&!A.skip)for(g=0,he=l.labels.length;g<he;++g)re=l.labels[g],ve=re._key,C=new kt(re,p,A,u),C.$groups={_set:a,_key:ve||Tt},C.$context={active:!1,chart:t,dataIndex:u,dataset:s,datasetIndex:a},C.update(C.$context),A[h].push(C),o.push(C);p.restore(),N(i._listeners,l.listeners,{merger:function(D,ae,Dt){ae[D]=ae[D]||{},ae[D][r.index]=Dt[D],i._listened=!0}})},afterUpdate:function(t){t[h]._labels=F.prepare(t[h]._datasets)},afterDatasetsDraw:function(t){F.draw(t,t[h]._labels)},beforeEvent:function(t,r){if(t[h]._listened){var e=r.event;switch(e.type){case"mousemove":case"mouseout":lr(t,e);break;case"click":dr(t,e);break}}},afterEvent:function(t){var r=t[h],e=r._actives,a=r._actives=t.getActiveElements(),i=T.arrayDiff(e,a),o,n,s,l,d,p,u;for(o=0,n=i.length;o<n;++o)if(d=i[o],d[1])for(u=d[0].element[h]||[],s=0,l=u.length;s<l;++s)p=u[s],p.$context.active=d[1]===1,p.update(p.$context);(r._dirty||i.length)&&(F.update(r._labels),t.render()),delete r._dirty}};W.register(...mt,Ft);W.defaults.plugins.datalabels.display=!1;W.defaults.font.family="Roboto, Lusail";je(Y,St).catch(t=>console.error(t));
