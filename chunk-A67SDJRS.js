import{a as b}from"./chunk-E5X2H3KA.js";import{a as S}from"./chunk-NYB4G32D.js";import{b as d,d as f,e as C}from"./chunk-ZDLFVXAQ.js";import{a as h}from"./chunk-75V3BFQA.js";import{b as i,f as v}from"./chunk-ZZL437ZE.js";import{B as u,g as m,ma as g,sa as l}from"./chunk-JDPSA7SZ.js";var a=class{partitionKey;rowKey;user_id;conversation_id;feedback;sentiment;bot_name;title;timestamp;getEmojiPerSetiment(){switch(this.sentiment){case"negative":return"\u{1F61F}";case"mixed":return"\u{1F615}";case"positive":return"\u{1F60A}";case"neutral":return"\u{1F610}";default:return"\u2753"}}};var c=class extends b{partitionKey;rowKey;constructor(){super()}};var o=class o{http=l(v);urlService=l(h);getAllConversations(t){let e=`${this.urlService.URLS.CHAT_HISTORY}/all-conversations`,r=new i;return t&&(r=r.set("bot_name",t)),this.http.get(e,{params:r})}getConversationsByUserId(t){let e=`${this.urlService.URLS.CHAT_HISTORY}/conversations`,r=new i().set("user_id",t);return this.http.get(e,{params:r})}getChatByConversationId(t){let e=`${this.urlService.URLS.CHAT_HISTORY}/chat`,r=new i().set("conv_id",t);return this.http.get(e,{params:r}).pipe(u(p=>p.map(n=>{let s=new c;return s.context=n.context&&JSON.parse(n.context),s.content=f(C(n.content,s)),s.partitionKey=n.partitionKey,s.rowKey=n.rowKey,s.role=n.role,s}))).pipe(d())}applyAnalysis(){let t=`${this.urlService.URLS.CHAT_HISTORY}/sentiment-analysis`;return this.http.post(t,null)}addFeedback(t,e){let r=`${this.urlService.URLS.CHAT_HISTORY}/add-conversation-feedback`,p=new i().set("conv_id",t).set("feedback",e);return this.http.post(r,null,{params:p})}getAllBotNames(){let t=`${this.urlService.URLS.CHAT_HISTORY}/bot-names`;return this.http.get(t)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})};m([S(()=>a)],o.prototype,"getAllConversations",1);var y=o;export{y as a};
