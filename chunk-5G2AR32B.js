import{j as x,l as g,v as T}from"./chunk-CRQDGZSN.js";import{N as d,P as f,a as u,b as p,x as m}from"./chunk-FIRE7P7C.js";function L(e){let t=n=>{n instanceof x?Object.values(n.controls).forEach(r=>{t(r)}):n instanceof T?n.controls.forEach(r=>{t(r)}):n instanceof g&&(n.markAsTouched(),n.markAsDirty())};t(e)}function P(e=!1){return t=>t.pipe(f(n=>(e&&console.log(n),m("CUSTOM_ERROR")))).pipe(d(n=>n!=="CUSTOM_ERROR"))}function U(){let e=new Date().getTime(),t=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let r=Math.random()*16;return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),(n==="x"?r:r&3|8).toString(16)})}function h(e){return/[\u0600-\u06FF]+/.test(e)}var M=e=>(e.split(" ").map(t=>(h(t)?"\u202A":"\u202C")+t).join(" "),e);function N(e,t){let n=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");if(!t?.context)return n.trim();let r=Array.from(new Map(t.context.citations.map(o=>[o.url+o.title,o])).values()),s=new Set;return n=n.replace(/\[(.*?)\]/g,(o,c)=>{let l=Number(c.replace(/[^0-9]/g,""))-1,a=r[l];if(!a||s.has(a.url+a.title))return"";s.add(a.url+a.title);let b=a.title;return`<br /><small class="px-1 text-primary"><a target="_blank" href="${a.url}">${b}</a><i class="link-icon"></i></small>`}),n.trim()}function j(e){let t=/^(#+)\s+(.*)$/gm;return e.replace(t,(n,r,s)=>{let o=r.length,l={1:"text-4xl font-bold ml-9",2:"text-3xl font-bold",3:"text-2xl font-bold",4:"text-xl font-bold",5:"text-lg font-semibold",6:"text-base font-medium"}[o]||"text-base font-medium";return`<h${o} class="${l}">${s}</h${o}>`})}function A(e){let n=new URL(e).pathname;return decodeURI(n.split("/").pop()||"file")}function i(e){return e.reduce((t,{key:n,value:r})=>(t[n]=r,t),{})}function F(e){return"urls"in e?p(u({},e),{urls:e.urls.map(t=>p(u({},t),{headers:t.headers?i(t.headers):{},cookies:t.cookies?i(t.cookies):{},payload:t.payload?i(t.payload):{}}))}):p(u({},e),{headers:e.headers?i(e.headers):{},cookies:e.cookies?i(e.cookies):{},payload:e.payload?i(e.payload):{}})}function S(e,t=1){return new Promise((n,r)=>{if(!e||!(e instanceof HTMLVideoElement))return r("Invalid video element.");e.readyState<2?e.addEventListener("loadeddata",()=>s(),{once:!0}):s();function s(){e.currentTime=t,e.addEventListener("seeked",()=>{let o=document.createElement("canvas"),c=o.getContext("2d");if(!c)return r("Canvas not supported.");o.width=e.videoWidth,o.height=e.videoHeight,c.drawImage(e,0,0,o.width,o.height);let l=o.toDataURL("image/jpeg");n(l)},{once:!0})}})}export{L as a,P as b,U as c,M as d,N as e,j as f,A as g,F as h,S as i};
