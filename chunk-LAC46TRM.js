import{a as S}from"./chunk-C6EJR6T3.js";import{a as f,b as h,c as C,d as b}from"./chunk-NRYOFJMS.js";import{a as i,b as g,f as d}from"./chunk-GXN6FYK5.js";import{A as m,f as u,ha as v,na as l}from"./chunk-7HTXMH5V.js";var a=class{partitionKey;rowKey;user_id;conversation_id;feedback;sentiment;bot_name;getEmojiPerSetiment(){switch(this.sentiment){case"negative":return"\u{1F61F}";case"mixed":return"\u{1F615}";case"positive":return"\u{1F60A}";case"neutral":return"\u{1F610}";default:return"\u2753"}}};var c=class extends b{partitionKey;rowKey;constructor(){super()}};var n=class n{http=l(g);urlService=l(d);getAllConversations(){let t=`${this.urlService.URLS.CHAT_HISTORY}/get-all-conversations`;return this.http.get(t)}getConversationsByUserId(t){let e=`${this.urlService.URLS.CHAT_HISTORY}/get-conversations`,s=new i().set("user_id",t);return this.http.get(e,{params:s})}getChatByConversationId(t){let e=`${this.urlService.URLS.CHAT_HISTORY}/get-chat`,s=new i().set("conv_id",t);return this.http.get(e,{params:s}).pipe(m(p=>p.map(o=>{let r=new c;return r.context=JSON.parse(o.context),r.content=h(C(o.content,r)),r.partitionKey=o.partitionKey,r.rowKey=o.rowKey,r.role=o.role,r}))).pipe(f())}applyAnalysis(){let t=`${this.urlService.URLS.CHAT_HISTORY}/sentiment-analysis`;return this.http.post(t,null)}addFeedback(t,e){let s=`${this.urlService.URLS.CHAT_HISTORY}/add-feedback`,p=new i().set("conv_id",t).set("feedback",e);return this.http.post(s,null,{params:p})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=v({token:n,factory:n.\u0275fac,providedIn:"root"})};u([S(()=>a)],n.prototype,"getAllConversations",1);var y=n;export{y as a};
