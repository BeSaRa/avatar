import{x as d}from"./chunk-OEFX2DS6.js";import{a as i,b as u,f as c}from"./chunk-WKZSELF7.js";import{B as o,ja as p,pa as a}from"./chunk-K4ZX3MMM.js";var b=class l{http=a(u);urlService=a(c);fb=a(d);crawlWeb(e){let t=`${this.urlService.URLS.ADMIN}/crawler`;return this.http.post(t,e)}getContainers(){let e=`${this.urlService.URLS.ADMIN}/get-containers`;return this.http.get(e).pipe(o(t=>t.containers))}getSubfolder(e){let t=`${this.urlService.URLS.ADMIN}/get-subfolders/${e}`;return this.http.post(t,null).pipe(o(r=>r.subfolders))}deleteSubfolder(e,t){let r=`${this.urlService.URLS.ADMIN}/delete-subfolder`,s=new i().appendAll({container_name:e,subfolder_name:t});return this.http.delete(r,{params:s})}deleteByMetadata(e,t){let r=`${this.urlService.URLS.ADMIN}/delete-blob-by-metadata`,s=new i().appendAll({metadata_key:e,metadata_value:t});return this.http.delete(r,{params:s})}deleteByListOfTitles(e,t,r){let s=`${this.urlService.URLS.ADMIN}/delete-blob-by-list-of-titles`,n=new i().appendAll({container_name:e,subfolder_name:t});return this.http.delete(s,{params:n,body:r})}getBlobs(e,t){let r=`${this.urlService.URLS.ADMIN}/get-blobs/${e}`,s=new i().append("subfolder_name",t);return this.http.post(r,null,{params:s}).pipe(o(n=>n.blobs))}uploadBlobs(e,t){let r=`${this.urlService.URLS.ADMIN}/upload-blobs`,s=new i({fromObject:t}),n=new FormData;return e.forEach(h=>{n.append("files",h)}),this.http.post(r,n,{params:s})}getIndexInfo(e){let t=`${this.urlService.URLS.ADMIN}/index-info/${e}`;return this.http.get(t)}getIndexes(){let e=`${this.urlService.URLS.ADMIN}/indexes-name`;return this.http.get(e).pipe(o(t=>t.indexes))}resetIndex(e,t="chunk_id",r){let s=`${this.urlService.URLS.ADMIN}/reset-index/${e}`,n=new i;return r&&(n=new i().append("key",t).append("value",r)),this.http.post(s,null,{params:n})}runIndexer(e){let t=`${this.urlService.URLS.ADMIN}/run-indexer/${e}`;return this.http.post(t,null)}secureUrl(e){let t=`${this.urlService.URLS.ADMIN}/sas-token`,r=new i().append("blob_url",e);return this.http.get(t,{params:r})}createUrlGroup(){return this.fb.group({link:this.fb.control(""),headers:this.fb.array([]),cookies:this.fb.array([]),payload:this.fb.array([]),settings:this.createSettingsGroup()})}createSettingsGroup(){return this.fb.group({deep:this.fb.control(!1),selectors:this.fb.control([]),mediaCrawling:this.fb.control(!1),containerName:this.fb.control("rera-storage")})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=p({token:l,factory:l.\u0275fac,providedIn:"root"})};export{b as a};
