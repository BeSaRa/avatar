import{a as ae,d as se,e as pe,f as ce,g as me,h as fe,i as ue,j as Ee,k as Se,l as Ie}from"./chunk-6AFJ4MN7.js";import{a as oe,b as ie}from"./chunk-RI4S6OLF.js";import{a as _e,b as Ae}from"./chunk-DMK3CPUE.js";import{B as he,C as ge,G as ve,H as ye,I as Ce,J as Ne,V as b,x as de,z as R}from"./chunk-NQB7QDWJ.js";import{a as ee,b as te,c as re,d as ne,e as le,f as y}from"./chunk-5MML4IJR.js";import"./chunk-XAZLOLJU.js";import{$ as h,Cb as I,Cc as O,D as k,Da as H,Gb as l,Hb as a,Ib as _,Ma as q,Mb as A,Q as V,Yb as c,Z as U,Zb as u,_b as Y,a as d,aa as G,ab as E,ac as v,ca as C,cb as p,eb as z,fa as B,gb as W,ia as i,ib as X,ka as g,lb as Z,lc as J,n as j,oa as N,pc as Q,ub as S,x as D,xc as K,yb as L,za as $}from"./chunk-XXOGUOJZ.js";var Oe={VERSION:"v0.0.11",BASE_ENVIRONMENT:"",ENVIRONMENTS_URLS:{},BASE_URL:"",API_VERSION:"v1",KUNA:"",EXTERNAL_PROTOCOLS:["http","https"]};var m=class n{http=i(ee);CONFIG=Oe;BASE_URL="";load(){return this.http.get("resources/environment.json").pipe(h(e=>this.CONFIG=d(d({},this.CONFIG),e))).pipe(h(()=>this.prepareBaseUrl()))}prepareBaseUrl(){if(!Object.prototype.hasOwnProperty.call(this.CONFIG,"ENVIRONMENTS_URLS")||!Object.keys(this.CONFIG.ENVIRONMENTS_URLS).length)throw Error("There is no ENVIRONMENTS_URLS Property or empty provided inside resources/environment.json file Kindly check it");if(typeof this.CONFIG.BASE_ENVIRONMENT>"u")throw Error("there is no BASE_ENVIRONMENT_INDEX provided inside resources/environment.json file");if(typeof this.CONFIG.ENVIRONMENTS_URLS[this.CONFIG.BASE_ENVIRONMENT]>"u")throw Error("the provided BASE_ENVIRONMENT not exists inside ENVIRONMENTS_URLS array in resources/environment.json file");return this.BASE_URL=this.CONFIG.ENVIRONMENTS_URLS[this.CONFIG.BASE_ENVIRONMENT],Object.prototype.hasOwnProperty.call(this.CONFIG,"API_VERSION")&&this.CONFIG.API_VERSION&&(this.BASE_URL.lastIndexOf("/")!==this.BASE_URL.length-1&&(this.BASE_URL+="/"),this.BASE_URL+=this.CONFIG.API_VERSION),this.BASE_URL}static \u0275fac=function(t){return new(t||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})};var T=class n{config=i(m);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["app-version"]],standalone:!0,features:[v],decls:3,vars:1,consts:[[1,"bg-white/60","text-primary","flex","items-center","justify-center","text-sm","px-3","rounded-xl"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"span"),c(2),a()()),t&2&&(p(2),u(r.config.CONFIG.VERSION))},changeDetection:0})};function De(n,e){n&1&&(l(0,"mat-error"),c(1,"required"),a())}function ke(n,e){n&1&&(l(0,"mat-error"),c(1,"required"),a())}function Ve(n,e){n&1&&(l(0,"mat-error"),c(1,"required"),a())}var M=class n{lang=i(y);fb=i(Ce);ref=i(Se);form=this.fb.nonNullable.group({key:["",R.required],ar:["",R.required],en:["",R.required]});save=new j;ngOnInit(){this.listenToSave()}listenToSave(){this.save.pipe(D(()=>({key:this.form.value.key.toLowerCase().trim().replaceAll(" ","_"),ar:this.form.value.ar,en:this.form.value.en})),V(e=>this.lang.createLocal(e))).subscribe(()=>{this.ref.close()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["app-local-popup"]],standalone:!0,features:[v],decls:24,vars:10,consts:[[1,"flex","flex-col","overflow-hidden","dialog-container","min-w-[400px]"],[1,"bg-primary","text-white","text-xl","p-4"],[1,"p-4","flex","flex-col","flex-auto",3,"formGroup"],[1,"w-full"],["formControlName","key","type","text","matInput",""],["formControlName","ar","matInput",""],["formControlName","en","matInput",""],[1,"p-4"],["mat-raised-button","",1,"primary",3,"click","disabled"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1),c(2),a(),l(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),c(6),a(),_(7,"input",4),S(8,De,2,0,"mat-error"),a(),l(9,"mat-form-field",3)(10,"mat-label"),c(11),a(),l(12,"textarea",5),c(13," "),a(),S(14,ke,2,0,"mat-error"),a(),l(15,"mat-form-field",3)(16,"mat-label"),c(17),a(),l(18,"textarea",6),c(19," "),a(),S(20,Ve,2,0,"mat-error"),a()(),l(21,"div",7)(22,"button",8),A("click",function(){return r.save.next()}),c(23),a()()()),t&2&&(p(2),u(r.lang.locals.localization),p(),L("formGroup",r.form),p(3),u(r.lang.locals.local_key),p(2),I(r.form.controls.key.hasError("required")?8:-1),p(3),u(r.lang.locals.arabic_local),p(3),I(r.form.controls.ar.hasError("required")?14:-1),p(3),u(r.lang.locals.english_local),p(3),I(r.form.controls.en.hasError("required")?20:-1),p(2),L("disabled",r.form.invalid),p(),Y(" ",r.lang.locals.save," "))},dependencies:[ce,me,ue,Ee,Ne,de,he,ge,ve,ye,fe]})};var P=class n{dialog=i(Ie);lang=i(y);store=i(b);document=i(O);storeEffect=K(()=>{this.document.body.style.setProperty("--app-primary-color",this.store.backgroundColor())});openLocalDialog(e){e.preventDefault(),this.dialog.open(M,{direction:document.dir})}toggleLanguage(){this.lang.toggleLanguage()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["app-root"]],hostBindings:function(t,r){t&1&&A("keyup.Control.Alt.a",function(s){return r.openLocalDialog(s)},!1,E)("keyup.Control.Alt.\u0634",function(s){return r.openLocalDialog(s)},!1,E)("keyup.Control.Alt.l",function(s){return r.toggleLanguage(s)},!1,E)},standalone:!0,features:[v],decls:2,vars:0,consts:[[1,"absolute","left-5","bottom-5"]],template:function(t,r){t&1&&_(0,"router-outlet")(1,"app-version",0)},dependencies:[ae,T]})};var be=()=>{let n=i(b),e=i(_e);return n.streamId()&&e.closeStream().subscribe(),confirm("Stream will be closed")};var we=[{path:"home",loadComponent:()=>import("./chunk-ITDPWAL7.js"),loadChildren:()=>import("./chunk-FR7PSWK3.js")},{path:"avatar",loadComponent:()=>import("./chunk-LTUSWLKH.js"),pathMatch:"full",canDeactivate:[be]},{path:"**",redirectTo:"home"}];var Te=(()=>{class n{static{this.interceptors=[]}static send(t){return n.interceptors.forEach(r=>{r.send(t)}),t}static receive(t){return n.interceptors.forEach(r=>{r.receive(t)}),t}}return n})();var jt=Symbol("$$_CAST_RESPONSE"),Dt=Symbol("$$_CAST_RESPONSE_CONTAINER"),kt=Symbol("$$_MODEL_INTERCEPTOR"),Vt=Symbol("$$_PARAMS_INTERCEPTORS"),Ut=Symbol("$$_INTERCEPT_CONTAINER");function Me(n){return n&&(Te.interceptors=Te.interceptors.concat(n.map(e=>new e))),N([])}var F=class{send(e){return delete e.$$__service_name__$$,e}receive(e){return e}};var Pe={provide:J,useFactory:(n,e,t,r,o)=>()=>k([n.load()]).pipe(h(()=>e.setConfigService(n)),h(()=>e.prepareUrls()),U(()=>o.load())),deps:[m,le,$,Ae,y],multi:!0};var Ue="@",Ge=(()=>{class n{constructor(t,r,o,s,f){this.doc=t,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=f,this._rendererFactoryPromise=null,this.scheduler=i(W,{optional:!0}),this.loadingSchedulerFn=i(Be,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-IDFMGMU7.js").then(o=>o),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(o=>{throw new G(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:s})=>{this._engine=o(this.animationType,this.doc);let f=new s(this.delegate,this._engine,this.zone);return this.delegate=f,f})}createRenderer(t,r){let o=this.delegate.createRenderer(t,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new x(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(f=>{let je=f.createRenderer(t,r);s.use(je),this.scheduler?.notify(10)}).catch(f=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(r){z()}}static{this.\u0275prov=C({token:n,factory:n.\u0275fac})}}return n})(),x=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,o){this.delegate.insertBefore(e,t,r,o)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Ue)}},Be=new B("");function Fe(n="animations"){return Z("NgAsyncAnimations"),N([{provide:X,useFactory:(e,t,r)=>new Ge(e,t,r,n),deps:[O,oe,H]},{provide:q,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Le=(n,e)=>{let t=i(m);return e(n.clone({setHeaders:d({},t.CONFIG.BASE_ENVIRONMENT==="AQARAT_STG"?{"x-functions-key":t.CONFIG.KUNA}:void 0)}))};var xe={providers:[Pe,te(ne(),re([Le])),Q({eventCoalescing:!0}),se(we,pe()),Fe(),Me([F])]};ie(P,xe).catch(n=>console.error(n));
