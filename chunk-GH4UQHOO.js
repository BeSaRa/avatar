import{K as s,M as c,w as i}from"./chunk-SWO22U5H.js";function b(e=!1){return t=>t.pipe(c(r=>(e&&console.log(r),i("CUSTOM_ERROR")))).pipe(s(r=>r!=="CUSTOM_ERROR"))}function a(){let e=new Date().getTime(),t=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){let n=Math.random()*16;return e>0?(n=(e+n)%16|0,e=Math.floor(e/16)):(n=(t+n)%16|0,t=Math.floor(t/16)),(r==="x"?n:n&3|8).toString(16)})}function f(e){return/[\u0600-\u06FF]+/.test(e)}var T=e=>(e.split(" ").map(t=>(f(t)?"\u202A":"\u202C")+t).join(" "),e);function h(e,t){let r=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return r=r.replace(/\[(.*?)\]/g,(n,p)=>{let o=t.context.citations[Number(p.replace(/[^0-9]/g,""))-1];if(!o)return n;let u=o.title;return`<br /><small class="px-1 text-primary"><a target="_blank" href="${o.url}">${u}</a><i class="link-icon"></i></small>`}),r.trim()}var l=class{context;conversation_id;content;role;id;constructor(){this.id=a()}isUser(){return this.role==="user"}isAssistant(){return this.role==="assistant"}isError(){return this.role==="error"}};export{b as a,T as b,h as c,l as d};
