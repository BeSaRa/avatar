import{a as D}from"./chunk-XOVEP7OS.js";import{a as j}from"./chunk-NLEIEIC4.js";import{$b as C,Ac as E,Bc as $,Db as k,Eb as b,Ha as _,Ia as v,Lc as I,Na as w,Ob as M,Oc as R,Sb as c,Wb as T,Xb as f,Yb as S,_b as g,ac as o,bc as r,cc as d,gc as u,jc as x,lb as O,lc as l,sb as a,ta as p,vd as V,wc as P,xa as y,xc as F,yc as h,zc as m}from"./chunk-FK5TGTUL.js";var N=["container"],Q=(t,i)=>i.id,W=(t,i)=>({"mdi-chevron-down":t,"mdi-chevron-up":i});function q(t,i){if(t&1){let e=u();o(0,"div",7),x("animating",function(s){_(e);let H=l(2);return v(H.animationStatus.set(s))}),r()}if(t&2){let e=l().$implicit;c("text",e.content)}}function z(t,i){if(t&1&&d(0,"div",6),t&2){let e=l().$implicit;c("innerHtml",e.content,O)}}function B(t,i){if(t&1&&(o(0,"div",12)(1,"div",13)(2,"small",14),m(3),d(4,"i",15),r()(),o(5,"a",16),m(6),r()()),t&2){let e=i.$implicit,n=i.$index;a(3),$(" doc ",n+1," "),a(3),E(e.filepath)}}function L(t,i){if(t&1){let e=u();o(0,"div")(1,"div",8),x("click",function(){_(e);let s=h(6);return v(s.hidden=!s.hidden)}),d(2,"i",9),o(3,"span",10),m(4,"References"),r()(),o(5,"div",11,1),g(7,B,7,2,"div",12,S),r()()}if(t&2){let e=h(6),n=l().$implicit;a(2),c("ngClass",R(1,W,e.hidden,!e.hidden)),a(5),C(n.context.citations)}}function G(t,i){if(t&1&&(o(0,"div"),M(1,q,1,1,"div",5)(2,z,1,1,"div",6)(3,L,9,4,"div"),r()),t&2){let e=i.$implicit;T("message ",e.role,""),a(),f(e.role==="assistant"?1:2),a(2),f(e.context&&e.context.citations.length?3:-1)}}var A=class t{container=b.required("container");injector=p(w);service=p(D);animationStatus=k(!1);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=y({type:t,selectors:[["app-overlay-chat"]],viewQuery:function(e,n){e&1&&P(n.container,N,5),e&2&&F()},standalone:!0,features:[I],decls:5,vars:0,consts:[["container",""],["linkRef",""],[1,"flex","flex-col","w-full","max-h-full","overflow-y-auto","no-scrollbar","overflow-x-hidden"],[1,"flex-auto","flex","flex-col","gap-1","w-full","relative","px-2","[&>.message.user]:justify-start","[&>.message]:text-white"],[3,"class"],["appTextWriterAnimator","",1,"whitespace-pre-wrap","break-words",3,"text"],[1,"whitespace-pre-wrap","break-words",3,"innerHtml"],["appTextWriterAnimator","",1,"whitespace-pre-wrap","break-words",3,"animating","text"],[1,"icon-with-title",3,"click"],[1,"mdi",3,"ngClass"],[1,"title"],["hidden",""],["dir","auto"],[1,"d-inline"],[1,"px-1","text-primary"],[1,"mdi","mdi-link-variant"],[1,"d-inline","citation-link",2,"cursor","pointer"]],template:function(e,n){e&1&&(o(0,"div",2)(1,"div",3,0),g(3,G,4,5,"div",4,Q),r()()),e&2&&(a(3),C(n.service.messages()))},dependencies:[V,j],styles:['.message[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;font-size:.875rem;line-height:1.25rem}.message.user[_ngcontent-%COMP%]{align-items:flex-start}.message.user[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:.375rem;border-top-right-radius:0;background-color:#00000080;padding:.125rem}.message.user[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;top:0;width:8px;height:8px;clip-path:polygon(0 0,100% 0,0 100%);background-color:inherit}.message.assistant[_ngcontent-%COMP%]{align-items:flex-end}.message.assistant[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:.375rem;border-top-left-radius:0;background-color:#0003;padding:.125rem}.message.assistant[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-8px;top:0;background-color:inherit;width:8px;height:8px;clip-path:polygon(0 0,100% 0,100% 100%)}']})};export{A as a};
