import{a as b}from"./chunk-6QFNNE4J.js";import{a as S}from"./chunk-Q3WM7GCC.js";import{b as d,d as f,e as C}from"./chunk-6BFTBZPO.js";import{a as i,b as v,f as h}from"./chunk-SKPQZEK7.js";import{B as u,g as m,la as g,ra as l}from"./chunk-QDEZZFGD.js";var a=class{partitionKey;rowKey;user_id;conversation_id;feedback;sentiment;bot_name;title;timestamp;getEmojiPerSetiment(){switch(this.sentiment){case"negative":return"\u{1F61F}";case"mixed":return"\u{1F615}";case"positive":return"\u{1F60A}";case"neutral":return"\u{1F610}";default:return"\u2753"}}};var c=class extends b{partitionKey;rowKey;constructor(){super()}};var n=class n{http=l(v);urlService=l(h);getAllConversations(t){let e=`${this.urlService.URLS.CHAT_HISTORY}/all-conversations`,r=new i;return t&&(r=r.set("bot_name",t)),this.http.get(e,{params:r})}getConversationsByUserId(t){let e=`${this.urlService.URLS.CHAT_HISTORY}/conversations`,r=new i().set("user_id",t);return this.http.get(e,{params:r})}getChatByConversationId(t){let e=`${this.urlService.URLS.CHAT_HISTORY}/chat`,r=new i().set("conv_id",t);return this.http.get(e,{params:r}).pipe(u(p=>p.map(o=>{let s=new c;return s.context=JSON.parse(o.context),s.content=f(C(o.content,s)),s.partitionKey=o.partitionKey,s.rowKey=o.rowKey,s.role=o.role,s}))).pipe(d())}applyAnalysis(){let t=`${this.urlService.URLS.CHAT_HISTORY}/sentiment-analysis`;return this.http.post(t,null)}addFeedback(t,e){let r=`${this.urlService.URLS.CHAT_HISTORY}/add-feedback`,p=new i().set("conv_id",t).set("feedback",e);return this.http.post(r,null,{params:p})}getAllBotNames(){let t=`${this.urlService.URLS.CHAT_HISTORY}/bot-names`;return this.http.get(t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})};m([S(()=>a)],n.prototype,"getAllConversations",1);var y=n;export{y as a};
