import{j as g,l as T,w as b}from"./chunk-ZZLVWEOU.js";import{N as m,P as x,a as u,b as p,x as f}from"./chunk-FK5TGTUL.js";function M(t){let n=e=>{e instanceof g?Object.values(e.controls).forEach(r=>{n(r)}):e instanceof b?e.controls.forEach(r=>{n(r)}):e instanceof T&&(e.markAsTouched(),e.markAsDirty())};n(t)}function U(t=!1){return n=>n.pipe(x(e=>(t&&console.log(e),f("CUSTOM_ERROR")))).pipe(m(e=>e!=="CUSTOM_ERROR"))}function A(){let t=new Date().getTime(),n=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let r=Math.random()*16;return t>0?(r=(t+r)%16|0,t=Math.floor(t/16)):(r=(n+r)%16|0,n=Math.floor(n/16)),(e==="x"?r:r&3|8).toString(16)})}function h(t){return/[\u0600-\u06FF]+/.test(t)}var N=t=>(t.split(" ").map(n=>(h(n)?"\u202A":"\u202C")+n).join(" "),t);function j(t,n){let e=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");if(!n?.context)return e.trim();let r=Array.from(new Map(n.context.citations.map(o=>[o.url+o.title,o])).values()),s=new Set;return e=e.replace(/\[(.*?)\]/g,(o,l)=>{let i=Number(l.replace(/[^0-9]/g,""))-1,a=r[i];if(!a||s.has(a.url+a.title))return"";s.add(a.url+a.title);let d=a.title;return`<br /><small class="px-1 text-primary"><a target="_blank" href="${a.url}">${d}</a><i class="link-icon"></i></small>`}),e.trim()}function V(t){let n=/^(#+)\s+(.*)$/gm;return t.replace(n,(e,r,s)=>{let o=r.length,i={1:"text-4xl font-bold ml-9",2:"text-3xl font-bold",3:"text-2xl font-bold",4:"text-xl font-bold",5:"text-lg font-semibold",6:"text-base font-medium"}[o]||"text-base font-medium";return`<h${o} class="${i}">${s}</h${o}>`})}function F(t){let e=new URL(t).pathname;return decodeURI(e.split("/").pop()||"file")}function c(t){return t.reduce((n,{key:e,value:r})=>(n[e]=r,n),{})}function y(t){return Array.isArray(t)&&"crawl_settings"in t[0]&&typeof t=="object"}function _(t){return y(t)?t.flatMap(n=>p(u({},n),{crawl_settings:p(u({},n.crawl_settings),{urls:n.crawl_settings.urls.map(e=>p(u({},e),{headers:e.headers?c(e.headers):{},cookies:e.cookies?c(e.cookies):{},payload:e.payload?c(e.payload):{}}))})})):p(u({},t),{headers:t.headers?c(t.headers):{},cookies:t.cookies?c(t.cookies):{},payload:t.payload?c(t.payload):{}})}function S(t,n=1){return new Promise((e,r)=>{if(!t||!(t instanceof HTMLVideoElement))return r("Invalid video element.");t.readyState<2?t.addEventListener("loadeddata",()=>s(),{once:!0}):s();function s(){t.currentTime=n,t.addEventListener("seeked",()=>{let o=document.createElement("canvas"),l=o.getContext("2d");if(!l)return r("Canvas not supported.");o.width=t.videoWidth,o.height=t.videoHeight,l.drawImage(t,0,0,o.width,o.height);let i=o.toDataURL("image/jpeg");e(i)},{once:!0})}})}function $(t,n){return e=>{let r={};return t.forEach(([s,o],l)=>{let i=e.get(s)?.value,a=e.get(o)?.value;if(i&&a&&i>a){let d=n?.[l]??`${s}_${o}_invalid`;r[d]=!0}}),Object.keys(r).length>0?r:null}}function I(t,n){let e={};for(let r in t){let s=t[r];n?.length&&n?.some(o=>o===r)||s!=null&&(e[r]=s)}return e}export{M as a,U as b,A as c,N as d,j as e,V as f,F as g,_ as h,S as i,$ as j,I as k};
